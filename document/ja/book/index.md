
# Lislaへの招待

## Lislaの概要
Lisla（リスラ）は、文字列型と配列型のみをサポートするデータ記述言語です。

Lislaは
* 学ぶのが簡単で
* 読むのが簡単で
* 書くのが簡単で
* パースするのが簡単です。

データ記述言語というと、JSON、XML、YAMLといったものがありますが、これらのデータ記述言語にはない魅力を持ちます。

YAMLは書くのは簡単ですが、パースをするのは難しいです。JSONはパースをするのは比較的簡単ですが、手で書くのは面倒です。

多くのデータ記述言語は多くの目的に対して複雑すぎます。

Lislaはシンプルです。そして、十分な機能を持っています。



## Lislaの文法
TODO:



## Lislaが持たないもの
冒頭に書いた通り、Lislaがサポートするのは文字列型と配列型のみです。

数値、辞書、nullなどのための文法は用意されていません。

YamlやJSONに慣れている人は、データ記述言語にこれらがないことを不安に思うかもしれませんが、実際に数値や辞書やnullが表現できなくて困ることはありません。

例えば、

* `12`という整数値を表現したい場合、単純に`12`という文字列を使えばよいです
* 辞書データを表現したい場合、`[key1 value1] [key2 value2] [key3 value3]`というようにキーと値のペアの配列を使います
* nullを表現したい場合は、値が記述されていないことを使うか、要素数0の配列`[]`を使います

記述されたデータ読み込むプログラムは、ほとんどの場合、その個々のデータがどういう型であるべきかという情報をもっています。

例えば、今から読みとろうとしているデータは、「userというキーに対してユーザー番号の値を持つ構造体である」とか、読み込むプログラム側が知っているわけです。

ですから、データ記述言語の側でこういった型情報を持つ必要はありません。Lislaのように文字列と配列によってのみ構成されるデータを渡してやれば、プログラムは正しく情報を解釈できるはずです。

CSVやXMLも数値と文字列の区別がありませんが、それが問題になることはそれほどありません。

一方でデータ記述言語側が数値など型の情報をもっていると、文字列を期待している場所に整数の値が来た場合などの、エラー処理や変換処理などにわずらわされることになります。



## Lislaと周辺ツール
Lislaはその周辺ツールを開発しやすいように設計されており、Lislaをあつかう様々なツールを公式に提供してます。

以下はその一部です。

* 簡単で強力なスキーマ言語
* LislaをベースにしたDSLを作るためのツールキット
* LislaをベースにしたDSL
    * コマンドラインパーサーの記述言語
    * 記述量の少ないAltXML(XML代替言語)
* protocol buffersより省サイズなバイナリ表現
* 強い入力補完が利くエディタプラグイン
* JSONやMessagePackなどの既存のデータ記述言語への変換ツール


# Lislaを実際に使う

ここでは、Lislaを実際に利用するためのツールキットを紹介します。

Lisla標準ツールキットは以下をふくみます。

* CLIツール
    * 各種変換
        * JSON
        * MessagePack
        * Bisla(独自バイナリフォーマット)
    * フォーマット
    * 省サイズ化
    * バリデーション
    * 言語サーバー(LSP)

* GUIツール(Leadlight)
    * Lislaエディタ
    * 各種変換
    * フォーマット
    * 省サイズ化
   
* Lisla IDLの標準ライブラリ

ここでは、ツールキットのインストール方法とCLIツールの概要について紹介していきます。


## Windows


## Linux / Mac


## CLIツールの概要



## Visual Studio Codeプラグイン



# Lisla IDL
Lisla IDL(Interface Description Language)は、Lislaの構造を表現するためのスキーマ言語です。

Lisla IDLは、それ自体がLisla IDLでスキーマを記述されたLislaです。

LislaのスキーマをLisla IDLで記述することにより、以下の機能を利用できるようになります。

* エディタによる支援
    * 入力補完
    * より詳細なシンタックスハイライト
* バリデーション
* 各種変換
    * JSON
    * MessagePack
    * Bisla(独自バイナリフォーマット)
